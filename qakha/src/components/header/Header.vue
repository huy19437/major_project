<template>
  <div class="header-sticky">
    <header class="header shop">
      <!-- Topbar -->
      <div class="topbar">
        <div class="container">
          <div class="row">
            <div class="col-lg-5 col-md-12 col-12">
              <!-- Top Left -->
              <div class="top-left">
                <ul class="list-main">
                  <li><i class="ti-headphone-alt"></i> 0589273382</li>
                  <li><i class="ti-email"></i> nguyenduchuy19437@gmail.com</li>
                </ul>
              </div>
              <!--/ End Top Left -->
            </div>
            <div class="col-lg-7 col-md-12 col-12">
              <!-- Top Right -->
              <div class="right-content">
                <ul class="list-main">
                  <li>
                    <i class="ti-location-pin"></i>
                    <button type="button" class="map-button">
                      <a href="#">Da Nang City</a>
                    </button>
                  </li>
                  <li>
                    <a href="" class="language-btn">
                      <img
                        src="@/assets/images/vn_flag.png"
                        alt=""
                        class="language-flag"
                      />
                    </a>
                    <a href="" class="language-btn">
                      <img
                        src="@/assets/images/us_flag.png"
                        alt=""
                        class="language-flag"
                      />
                    </a>
                  </li>
                  <li v-if="!userName">
                    <i class="ti-user"></i><a href="profile">My account</a>
                  </li>
                  <li v-else>
                    <i class="ti-user"></i><a href="profile">{{ userName }}</a>
                  </li>
                  <li v-if="!userName">
                    <i class="ti-power-off"></i><a href="login">Login</a>
                  </li>
                  <li v-else>
                    <i class="ti-power-off"></i
                    ><a @click.prevent="logoutFuction" href="login">Logout</a>
                  </li>
                </ul>
              </div>
              <!-- End Top Right -->
            </div>
          </div>
        </div>
      </div>
      <!-- End Topbar -->
      <div class="middle-inner">
        <div class="container">
          <div class="row">
            <div class="col-lg-2 col-md-2 col-12">
              <!-- Logo -->
              <div class="logo">
                <a href="/">
                  <img
                    src="@/assets/images/logo_qakha2.png"
                    alt="logo"
                    class="header-logo"
                  />
                </a>
              </div>
              <!--/ End Logo -->
              <!-- Search Form -->
              <div class="search-top">
                <div class="top-search">
                  <a href="#0"><i class="ti-search"></i></a>
                </div>
                <!-- Search Form -->
                <div class="search-top">
                  <form class="search-form">
                    <input
                      type="text"
                      placeholder="Search here..."
                      name="search"
                    />
                    <button value="search" type="submit">
                      <i class="ti-search"></i>
                    </button>
                  </form>
                </div>
                <!--/ End Search Form -->
              </div>
              <!--/ End Search Form -->
              <div class="mobile-nav"></div>
            </div>
            <div class="col-lg-8 col-md-7 col-12">
              <div class="search-bar-top">
                <div class="search-bar">
                  <div
                    class="nice-select"
                    tabindex="0"
                    :class="{ open: isOpen }"
                    @click="isOpen = !isOpen"
                  >
                    <span class="current">All Category</span>
                    <ul class="list">
                      <li
                        data-value="All Category"
                        class="option selected focus"
                      >
                        All Category
                      </li>
                      <li data-value="watch" class="option">watch</li>
                      <li data-value="mobile" class="option">mobile</li>
                      <li data-value="kid’s item" class="option">kid’s item</li>
                    </ul>
                  </div>
                  <form>
                    <input
                      name="search"
                      placeholder="Search Products Here....."
                      type="search"
                    />
                    <button class="btnn"><i class="ti-search"></i></button>
                  </form>
                </div>
              </div>
            </div>
            <div class="col-lg-2 col-md-3 col-12">
              <div class="right-bar">
                <div
                  class="sinlge-bar nice-select"
                  :class="{ open: isOpen2 }"
                  @click="isOpen2 = !isOpen2"
                >
                  <span class="current">All Category</span>
                  <ul class="list">
                    <li data-value="All Category" class="option selected focus">
                      All Category
                    </li>
                    <li data-value="watch" class="option">watch</li>
                    <li data-value="mobile" class="option">mobile</li>
                    <li data-value="kid’s item" class="option">kid’s item</li>
                  </ul>
                </div>
                <div class="sinlge-bar shopping">
                  <a href="#" class="single-icon"
                    ><i class="ti-bag"></i>
                    <span class="total-count">2</span></a
                  >
                  <!-- Shopping Item -->
                  <div class="shopping-item">
                    <div class="dropdown-cart-header">
                      <span>2 Items</span>
                      <!-- <a href="cart">View Cart</a> -->
                      <router-link to="/cart">View Cart </router-link>
                    </div>
                    <ul class="shopping-list">
                      <li>
                        <a href="#" class="remove" title="Remove this item"
                          ><i class="fa fa-remove"></i
                        ></a>
                        <a class="cart-img" href="#"
                          ><img src="https://via.placeholder.com/70x70" alt="#"
                        /></a>
                        <h4><a href="#">Woman Ring</a></h4>
                        <p class="quantity">
                          1x - <span class="amount">$99.00</span>
                        </p>
                      </li>
                      <li>
                        <a href="#" class="remove" title="Remove this item"
                          ><i class="fa fa-remove"></i
                        ></a>
                        <a class="cart-img" href="#"
                          ><img src="https://via.placeholder.com/70x70" alt="#"
                        /></a>
                        <h4><a href="#">Woman Necklace</a></h4>
                        <p class="quantity">
                          1x - <span class="amount">$35.00</span>
                        </p>
                      </li>
                    </ul>
                    <div class="bottom">
                      <div class="total">
                        <span>Total</span>
                        <span class="total-amount">$134.00</span>
                      </div>
                      <a href="checkout" class="btn animate">Checkout</a>
                    </div>
                  </div>
                  <!--/ End Shopping Item -->
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <!-- Header Inner -->
      <div class="header-inner">
        <div class="container">
          <div class="cat-nav-head">
            <div class="row">
              <div class="col-lg-3">
                <div class="all-category">
                  <h3 class="cat-heading">
                    <i class="fa fa-bars" aria-hidden="true"></i>CATEGORIES
                  </h3>
                  <ul class="main-category" style="z-index: 100">
                    <li>
                      <a href="#"
                        >New Arrivals
                        <i class="fa fa-angle-right" aria-hidden="true"></i
                      ></a>
                      <ul class="sub-category">
                        <li><a href="#">accessories</a></li>
                        <li><a href="#">best selling</a></li>
                        <li><a href="#">top 100 offer</a></li>
                        <li><a href="#">sunglass</a></li>
                        <li><a href="#">watch</a></li>
                        <li><a href="#">man’s product</a></li>
                        <li><a href="#">ladies</a></li>
                        <li><a href="#">westrn dress</a></li>
                        <li><a href="#">denim </a></li>
                      </ul>
                    </li>
                    <li class="main-mega">
                      <a href="#"
                        >best selling
                        <i class="fa fa-angle-right" aria-hidden="true"></i
                      ></a>
                      <ul class="mega-menu">
                        <li class="single-menu">
                          <a href="#" class="title-link">Shop Kid's</a>
                          <div class="image">
                            <img
                              src="@/assets/images/logo_qakha2.png"
                              alt="#"
                            />
                          </div>
                          <div class="inner-link">
                            <a href="#">Kids Toys</a>
                            <a href="#">Kids Travel Car</a>
                            <a href="#">Kids Color Shape</a>
                            <a href="#">Kids Tent</a>
                          </div>
                        </li>
                        <li class="single-menu">
                          <a href="#" class="title-link">Shop Men's</a>
                          <div class="image">
                            <img
                              src="@/assets/images/logo_qakha2.png"
                              alt="#"
                            />
                          </div>
                          <div class="inner-link">
                            <a href="#">Watch</a>
                            <a href="#">T-shirt</a>
                            <a href="#">Hoodies</a>
                            <a href="#">Formal Pant</a>
                          </div>
                        </li>
                        <li class="single-menu">
                          <a href="#" class="title-link">Shop Women's</a>
                          <div class="image">
                            <img
                              src="@/assets/images/logo_qakha2.png"
                              alt="#"
                            />
                          </div>
                          <div class="inner-link">
                            <a href="#">Ladies Shirt</a>
                            <a href="#">Ladies Frog</a>
                            <a href="#">Ladies Sun Glass</a>
                            <a href="#">Ladies Watch</a>
                          </div>
                        </li>
                      </ul>
                    </li>
                    <li><a href="#">accessories</a></li>
                    <li><a href="#">top 100 offer</a></li>
                    <li><a href="#">sunglass</a></li>
                    <li><a href="#">watch</a></li>
                    <li><a href="#">man’s product</a></li>
                    <li><a href="#">ladies</a></li>
                    <li><a href="#">westrn dress</a></li>
                    <li><a href="#">denim </a></li>
                  </ul>
                </div>
              </div>
              <div class="col-lg-9 col-12">
                <div class="menu-area">
                  <!-- Main Menu -->
                  <nav class="navbar navbar-expand-lg">
                    <div class="navbar-collapse">
                      <div class="nav-inner">
                        <ul class="nav main-menu menu navbar-nav">
                          <li><a href="#">Home</a></li>
                          <li><a href="#">Product</a></li>
                          <li><a href="#">Service</a></li>
                          <li class="hasDropDown">
                            <a href="#">Shop<i class="ti-angle-down"></i></a>
                            <ul class="dropdown">
                              <li><a href="cart.html">Cart</a></li>
                              <li><a href="checkout.html">Checkout</a></li>
                            </ul>
                          </li>
                          <li><a href="#">Pages</a></li>
                          <li class="hasDropDown">
                            <a href="#">Blog<i class="ti-angle-down"></i></a>
                            <ul class="dropdown">
                              <li>
                                <a href="blog-single-sidebar.html"
                                  >Blog Single Sidebar</a
                                >
                              </li>
                            </ul>
                          </li>
                          <li><a href="contact.html">Contact Us</a></li>
                        </ul>
                      </div>
                    </div>
                  </nav>
                  <!--/ End Main Menu -->
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <!--/ End Header Inner -->
    </header>
  </div>
</template>

<script>
import { mapActions, mapGetters } from "vuex";
export default {
  name: "Header",
  data() {
    return {
      isOpen: false,
      isOpen2: false,
      isChanged: false,
    };
  },
  computed: {
    ...mapGetters({
      userName: "auth/getUserName",
    }),
  },
  methods: {
    ...mapActions({
      logoutFuction: "auth/logout",
      getUserInfoFromLocal: "auth/getUserInfoFromLocal",
    }),

    showProfile() {
      this.$router.push({ path: "/profile" });
    },
  },
  created() {
    this.getUserInfoFromLocal();
  },
};
</script>

<style lang="scss">
.header-sticky {
  position: sticky;
  top: -158px;
  z-index: 100;
}
.top-left .list-main {
  padding-left: 0;
  float: left;
}

.topbar .list-main {
  margin-bottom: 0;
}

.header-inner {
  .cat-heading {
    margin-bottom: 0;
    margin-top: 0;
  }
  .main-category {
    padding-left: 0;
    display: none;
    a {
      text-align: left;
    }
  }

  .all-category:hover {
    .main-category {
      display: block;
    }
  }
}

.navbar {
  margin-bottom: 0 !important;
}

.header.shop {
  .logo {
    margin: 9px 0 0;
    padding-left: 50px;
  }

  .right-bar {
    display: flex !important;
    align-items: center;
    top: 8px;
    .nice-select {
      border-right: none;
    }
    .nice-select::after {
      right: 39px;
    }
  }

  .nav {
    li.active {
      a {
        height: 64px;
      }
    }
  }

  .right-bar {
    .list {
      border: none;
    }
  }

  .nav-inner {
    .dropdown {
      margin-right: 188px;
      list-style: none;
    }

    .hasDropDown {
      a {
        text-align: left;
      }
    }
  }
}

.middle-inner .logo .header-logo {
  width: 153px;
  height: 50px;
}

.right-content .map-button {
  background-color: #fff;
  color: #000;
  border: none;
  font-size: 1.2rem;
}

.language-flag {
  width: 25%;
}

.language-btn {
  position: relative;
}

.language-btn:nth-child(1)::after {
  content: " | ";
  display: block;
  position: absolute;
  top: -4px;
  right: -4.1px;
}
</style>